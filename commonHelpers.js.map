{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst activeForm = document.querySelector(`.form`);\nconst API_KEY = `41787862-84986491f6cfdcc41b6404efb`;\nconst loaderContainer = document.querySelector('.loader-container');\n\nconst getImage = (query = \"\") => {\n    return fetch(`https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then((response) => {\n        hideLoader();\n        if(response.ok) {\n        return response.json();}\n        else {\n            throw new Error('No hits');\n        }\n    });\n}\n\nfunction showLoader() {\n    loaderContainer.style.display = 'block';\n  }\n  function hideLoader() {\n    loaderContainer.style.display = 'none';\n  }\n\n  function clearSearchResults() {\n    gallery.innerHTML = \"\";\n}\n\nactiveForm.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n\n    const query = event.target.elements.query.value.trim();\n\nshowLoader();\n\n       getImage(query)\n    .then(({hits}) => {\n        if (hits.length === 0) {\n            iziToast.show({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                color: \"red\",\n  position: \"topRight\",  \n            });\n        } else {\n            renderImages(hits);\n        }\n        getImage.reset();\n    })\n    .catch(error => {\n        console.error(error);\n    });\n    \n})\n\n\nconst gallery = document.querySelector(`.gallery`);\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    captionsData: 'alt',\n    close: true,\n  });\n\nfunction renderImages(hits) {\n    const imageHTML = hits.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n<a class=\"gallery-link\" href=\"${largeImageURL}\">\n<img\n    class=\"gallery-image\"\n    src=\"${webformatURL}\"\n    alt=\"${tags}\"\n/>\n<ul class=\"info-list\">\n  <li class=\"info-item\">\n      <p class=\"info-title\">Likes</p>\n      <p class=\"info-value\">${likes}</p>\n  </li>\n  <li class=\"info-item\">\n      <p class=\"info-title\">Views</p>\n      <p class=\"info-value\">${views}</p>\n  </li>\n  <li class=\"info-item\">\n      <p class=\"info-title\">Comments</p>\n      <p class=\"info-value\">${comments}</p>\n  </li>\n  <li class=\"info-item\">\n      <p class=\"info-title\">Downloads</p>\n      <p class=\"info-value\">${downloads}</p>\n  </li>\n</ul>\n</a> `).join(``)\n    clearSearchResults();\n     gallery.insertAdjacentHTML(\"afterbegin\",imageHTML);\n     lightbox.refresh();\n}\n"],"names":["activeForm","API_KEY","loaderContainer","getImage","query","response","hideLoader","showLoader","clearSearchResults","gallery","event","hits","iziToast","renderImages","error","lightbox","SimpleLightbox","imageHTML","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"6vBAKA,MAAMA,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAU,qCACVC,EAAkB,SAAS,cAAc,mBAAmB,EAE5DC,EAAW,CAACC,EAAQ,KACf,MAAM,gCAAgCH,OAAaG,2DAA+D,EACxH,KAAMC,GAAa,CAEhB,GADAC,IACGD,EAAS,GACZ,OAAOA,EAAS,KAAI,EAEhB,MAAM,IAAI,MAAM,SAAS,CAErC,CAAK,EAGL,SAASE,GAAa,CAClBL,EAAgB,MAAM,QAAU,OACjC,CACD,SAASI,GAAa,CACpBJ,EAAgB,MAAM,QAAU,MACjC,CAED,SAASM,GAAqB,CAC5BC,EAAQ,UAAY,EACxB,CAEAT,EAAW,iBAAiB,SAAWU,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMN,EAAQM,EAAM,OAAO,SAAS,MAAM,MAAM,OAEpDH,IAEOJ,EAASC,CAAK,EAChB,KAAK,CAAC,CAAC,KAAAO,CAAI,IAAM,CACVA,EAAK,SAAW,EAChBC,EAAS,KAAK,CACV,QAAS,2EACT,MAAO,MACrB,SAAU,UACZ,CAAa,EAEDC,EAAaF,CAAI,EAErBR,EAAS,MAAK,CACtB,CAAK,EACA,MAAMW,GAAS,CACZ,QAAQ,MAAMA,CAAK,CAC3B,CAAK,CAEL,CAAC,EAGD,MAAML,EAAU,SAAS,cAAc,UAAU,EAE3CM,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,IACd,aAAc,MACd,MAAO,EACX,CAAG,EAEH,SAASH,EAAaF,EAAM,CACxB,MAAMM,EAAYN,EAAK,IAAI,CAAC,CAAC,aAAAO,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA,gCAC3EL;AAAA;AAAA;AAAA,WAGrBD;AAAA,WACAE;AAAA;AAAA;AAAA;AAAA;AAAA,8BAKmBC;AAAA;AAAA;AAAA;AAAA,8BAIAC;AAAA;AAAA;AAAA;AAAA,8BAIAC;AAAA;AAAA;AAAA;AAAA,8BAIAC;AAAA;AAAA;AAAA,MAGxB,EAAE,KAAK,EAAE,EACXhB,IACCC,EAAQ,mBAAmB,aAAaQ,CAAS,EACjDF,EAAS,QAAO,CACrB"}